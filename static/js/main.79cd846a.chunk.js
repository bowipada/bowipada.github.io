(this["webpackJsonpflip-match"]=this["webpackJsonpflip-match"]||[]).push([[0],{14:function(t,e,a){},15:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),i=a(3),s=a.n(i),l=(a(14),a(4)),o=a(5),c=a(7),u=a(6),d=a(1),m=a(8);function h(t){return r.a.createElement("div",{className:"flip-card",onClick:t.onClick,id:"card"+t.id},r.a.createElement("div",{className:"flip-card-inner"},r.a.createElement("div",{className:"flip-card-front"}),r.a.createElement("div",{className:"flip-card-back"},t.value)))}var f=function(t){function e(t){var a;return Object(l.a)(this,e),(a=Object(c.a)(this,Object(u.a)(e).call(this,t))).state={current:[],cards:[],timeStart:0,time:"0:00",nClear:0,nRow:4,nCol:4,totalCards:16},a.onInputRow=a.onInputRow.bind(Object(d.a)(a)),a.onInputCol=a.onInputCol.bind(Object(d.a)(a)),a}return Object(m.a)(e,t),Object(o.a)(e,[{key:"componentDidMount",value:function(){this.initBoard()}},{key:"initBoard",value:function(){for(var t=this.state.nCol*this.state.nRow,e=t/2,a=[],n=[],r=[],i=Array(t).fill("*"),s=t,l=0,o=0;o<t;o++)a.push(o);for(var c=1;c<=e;c++)r.push(c),r.push(c);for(;s--;)l=Math.floor(Math.random()*(s+1)),n.push(a[l]),a.splice(l,1);for(var u=0;u<t;u++)r.length>0&&(i[n[u]]=r.pop());this.setState({cards:i,totalCards:t})}},{key:"renderCard",value:function(t){var e=this;return r.a.createElement(h,{value:this.state.cards[t],key:t,id:t,onClick:function(){return e.handleClick(t)}})}},{key:"toggleStart",value:function(t){var e=t?"none":"block",a=t?"board":"board not-start";document.getElementById("btnStart").style.display=e,document.querySelector(".board").className=a}},{key:"startTimer",value:function(){var t=this;this.toggleStart(!0);var e=(new Date).getTime();this.setState({timeStart:e}),this.timer=setInterval((function(){var e=(new Date).getTime()-t.state.timeStart,a=Math.floor(e/1e3),n=0;a>60&&(n=Math.floor(a/60));var r=n+":"+t.padding(a);t.setState({time:r})}),1e3)}},{key:"padding",value:function(t){return t<10?"0"+t:t}},{key:"handleClick",value:function(t){var e=this,a=document.getElementById("card"+t);if(a&&-1===a.className.indexOf("hidden")){a.className+=" flip";var n=this.state.current.slice();if(n.indexOf(t)>-1)return;n.push(t),this.setState({current:n});var r=!1,i=0;if("*"===this.state.cards[n[0]]?r=!0:"*"===this.state.cards[n[1]]&&(i=1,r=!0),n.length>=2||r){var s=this.state.nClear;setTimeout((function(){var t="flip-card";(e.state.cards[n[0]]===e.state.cards[n[1]]||r)&&(t+=" hidden",r?s++:s=e.state.nClear+2,e.setState({nClear:s}),s===e.state.totalCards&&clearInterval(e.timer));for(var a=0;a<2;a++){var i=document.getElementById("card"+n[a]);i&&(i.className=t)}}),800);var l=this.state.current.slice(2);r&&(l=this.state.current.slice()).splice(i,1),this.setState({current:l})}}}},{key:"restart",value:function(){this.setState({timeStart:0,nClear:0,time:"0:00"}),this.timer&&clearInterval(this.timer),this.toggleStart(!1),this.initBoard(),document.querySelectorAll(".flip-card").forEach((function(t){setTimeout((function(){t.className="flip-card"}))}))}},{key:"onInput",value:function(t,e){var a=this,n=0;t.target.value&&(n=parseInt(t.target.value)),!isNaN(n)&&n||(n=4);var r={};r[e]=n,this.setState(r),setTimeout((function(){a.initBoard()}),100)}},{key:"onInputRow",value:function(t){this.onInput(t,"nRow")}},{key:"onInputCol",value:function(t){this.onInput(t,"nCol")}},{key:"boardWidth",value:function(t){return 50*t+(2*t-1)+"px"}},{key:"disabledInput",value:function(){return 0!==this.state.timeStart}},{key:"render",value:function(){for(var t=this,e=[],a=0;a<this.state.totalCards;a++)e.push(this.renderCard(a));var n={width:this.boardWidth(this.state.nCol),height:this.boardWidth(this.state.nRow)};return r.a.createElement("div",null,r.a.createElement("div",{className:"div-amount"},r.a.createElement("span",null,"Amount of rows: "),r.a.createElement("input",{type:"text",onInput:this.onInputRow,disabled:this.disabledInput(),defaultValue:"4"})),r.a.createElement("div",{className:"div-amount"},r.a.createElement("span",null,"Amount of columns: "),r.a.createElement("input",{type:"text",onInput:this.onInputCol,disabled:this.disabledInput(),defaultValue:"4"})),r.a.createElement("br",null),r.a.createElement("button",{onClick:function(){return t.restart()}},"Restart"),r.a.createElement("div",null,"Time: ",this.state.time),r.a.createElement("div",{className:"board not-start",style:n},r.a.createElement("div",{id:"btnStart",className:"btn-start",onClick:function(){t.startTimer()}},"Start"),e))}}]),e}(r.a.Component);s.a.render(r.a.createElement((function(){return r.a.createElement("div",null,r.a.createElement(f,null))}),null),document.getElementById("root"))},9:function(t,e,a){t.exports=a(15)}},[[9,1,2]]]);
//# sourceMappingURL=main.79cd846a.chunk.js.map