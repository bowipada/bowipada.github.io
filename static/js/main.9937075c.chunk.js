(this["webpackJsonpflip-match"]=this["webpackJsonpflip-match"]||[]).push([[0],{23:function(e,t,a){e.exports=a(34)},28:function(e,t,a){},34:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(20),s=a.n(r),i=(a(28),a(9)),c=a(10),o=a(12),u=a(11),m=a(8),d=a(13);function h(e){return l.a.createElement("div",{className:"flip-card",onClick:e.onClick,id:"card"+e.id},l.a.createElement("div",{className:"flip-card-inner"},l.a.createElement("div",{className:"flip-card-front"}),l.a.createElement("div",{className:"flip-card-back"},e.value)))}var v=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={current:[],cards:[],timeStart:0,time:"0:00",nClear:0,nRow:4,nCol:4,totalCards:16},a.onInputRow=a.onInputRow.bind(Object(m.a)(a)),a.onInputCol=a.onInputCol.bind(Object(m.a)(a)),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.initBoard()}},{key:"initBoard",value:function(){for(var e=this.state.nCol*this.state.nRow,t=e/2,a=[],n=[],l=[],r=Array(e).fill("*"),s=e,i=0,c=0;c<e;c++)a.push(c);for(var o=1;o<=t;o++)l.push(o),l.push(o);for(;s--;)i=Math.floor(Math.random()*(s+1)),n.push(a[i]),a.splice(i,1);for(var u=0;u<e;u++)l.length>0&&(r[n[u]]=l.pop());this.setState({cards:r,totalCards:e})}},{key:"renderCard",value:function(e){var t=this;return l.a.createElement(h,{value:this.state.cards[e],key:e,id:e,onClick:function(){return t.handleClick(e)}})}},{key:"toggleStart",value:function(e){var t=e?"none":"block",a=e?"board":"board not-start";document.getElementById("btnStart").style.display=t,document.querySelector(".board").className=a}},{key:"startTimer",value:function(){var e=this;this.toggleStart(!0);var t=(new Date).getTime();this.setState({timeStart:t}),this.timer=setInterval((function(){var t=(new Date).getTime()-e.state.timeStart,a=Math.floor(t/1e3),n=0;a>60&&(n=Math.floor(a/60));var l=n+":"+e.padding(a);e.setState({time:l})}),1e3)}},{key:"padding",value:function(e){return e<10?"0"+e:e}},{key:"handleClick",value:function(e){var t=this,a=document.getElementById("card"+e);if(a&&-1===a.className.indexOf("hidden")){a.className+=" flip";var n=this.state.current.slice();if(n.indexOf(e)>-1)return;n.push(e),this.setState({current:n});var l=!1,r=0;if("*"===this.state.cards[n[0]]?l=!0:"*"===this.state.cards[n[1]]&&(r=1,l=!0),n.length>=2||l){var s=this.state.nClear;setTimeout((function(){var e="flip-card";(t.state.cards[n[0]]===t.state.cards[n[1]]||l)&&(e+=" hidden",l?s++:s=t.state.nClear+2,t.setState({nClear:s}),s===t.state.totalCards&&clearInterval(t.timer));for(var a=0;a<2;a++){var r=document.getElementById("card"+n[a]);r&&(r.className=e)}}),800);var i=this.state.current.slice(2);l&&(i=this.state.current.slice()).splice(r,1),this.setState({current:i})}}}},{key:"restart",value:function(){this.setState({timeStart:0,nClear:0,time:"0:00"}),this.timer&&clearInterval(this.timer),this.toggleStart(!1),this.initBoard(),document.querySelectorAll(".flip-card").forEach((function(e){setTimeout((function(){e.className="flip-card"}))}))}},{key:"onInput",value:function(e,t){var a=this,n=0;e.target.value&&(n=parseInt(e.target.value)),!isNaN(n)&&n||(n=4);var l={};l[t]=n,this.setState(l),setTimeout((function(){a.initBoard()}),100)}},{key:"onInputRow",value:function(e){this.onInput(e,"nRow")}},{key:"onInputCol",value:function(e){this.onInput(e,"nCol")}},{key:"boardWidth",value:function(e){return 50*e+(2*e-1)+"px"}},{key:"disabledInput",value:function(){return 0!==this.state.timeStart}},{key:"render",value:function(){for(var e=this,t=[],a=0;a<this.state.totalCards;a++)t.push(this.renderCard(a));var n={width:this.boardWidth(this.state.nCol),height:this.boardWidth(this.state.nRow)};return l.a.createElement("div",null,l.a.createElement("div",{className:"div-amount"},l.a.createElement("span",null,"Amount of rows: "),l.a.createElement("input",{type:"text",onInput:this.onInputRow,disabled:this.disabledInput(),defaultValue:"4"})),l.a.createElement("div",{className:"div-amount"},l.a.createElement("span",null,"Amount of columns: "),l.a.createElement("input",{type:"text",onInput:this.onInputCol,disabled:this.disabledInput(),defaultValue:"4"})),l.a.createElement("br",null),l.a.createElement("button",{className:"btn",onClick:function(){return e.restart()}},"Restart"),l.a.createElement("div",{className:"div-time"},"Time: ",this.state.time),l.a.createElement("br",null),l.a.createElement("div",{className:"board not-start",style:n},l.a.createElement("div",{className:this.state.nClear===this.state.totalCards?"div-clear":"hide"},"Clear!"),l.a.createElement("div",{id:"btnStart",className:"btn-start",onClick:function(){e.startTimer()}},"Start"),t))}}]),t}(l.a.Component);var f=function(){return l.a.createElement("div",{className:"about-container"},l.a.createElement("div",{className:"header"},"About"),l.a.createElement("div",{className:"box"},l.a.createElement("h3",null,"Profile"),l.a.createElement("div",{className:"d_fl"},l.a.createElement("div",{className:"subject"},"Name: "),l.a.createElement("div",null,"Wipada Pornsolpoltaweechai")),l.a.createElement("div",{className:"d_fl"},l.a.createElement("div",{className:"subject"},"Nickname: "),l.a.createElement("div",null,"Bo")),l.a.createElement("div",{className:"d_fl"},l.a.createElement("div",{className:"subject"},"Date of birth: "),l.a.createElement("div",null,"2 August, 1989")),l.a.createElement("div",{className:"d_fl"},l.a.createElement("div",{className:"subject"},"Job: "),l.a.createElement("div",null,"Programmer")),l.a.createElement("div",{className:"d_fl"},l.a.createElement("div",{className:"subject"},"Hobbies: "),l.a.createElement("div",null,"Reading, Playing Board Game")),l.a.createElement("div",{className:"d_fl"},l.a.createElement("div",{className:"subject"},"Sport: "),l.a.createElement("div",null,"Contract Bridge"))),l.a.createElement("div",{className:"box"},l.a.createElement("h3",null,"Contact"),l.a.createElement("div",{className:"d_fl"},l.a.createElement("div",{className:"subject"},"E-mail: "),l.a.createElement("div",null,l.a.createElement("a",{href:"mailto:wp_wipada@hotmail.com",target:"_top"},"wp_wipada@hotmail.com")))))};function p(e){return l.a.createElement("div",{className:"item ".concat(e.value.toLowerCase()," ").concat(e.isFocus?"focus":""),onClick:e.onClick},e.value)}var E=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(o.a)(this,Object(u.a)(t).call(this))).state={itemsValue:[],focusState:[],tempClearIndex:[],copyItemsValue:[],score:0},e}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.initBoard()}},{key:"renderItem",value:function(e,t,a){var n=this;return l.a.createElement(p,{value:t,key:e,isFocus:a,onClick:function(){return n.handleClick(e)}})}},{key:"handleClick",value:function(e){var t=this,a=Array(81).fill(!1),n=[];if(""!==this.state.itemsValue[e])if(this.state.focusState[e])if(this.state.tempClearIndex.length>=2){var l=this.state.score+this.state.tempClearIndex.length,r=this.state.itemsValue.slice(),s=this.state.tempClearIndex.map((function(e){return r[e]="",1}));Promise.all(s).then((function(){var e=t.state.tempClearIndex.slice(),n=[],s=[];e.forEach((function(e){var t=e%9;if(-1===s.indexOf(t))s.push(t),n.push(e);else{var a=n.findIndex((function(e){return e%9===t}));n[a]<e&&(n.splice(a,1),n.push(e))}})),setTimeout((function(){var e=n.map((function(e){return t.dropItems(e,r)}));Promise.all(e).then((function(){t.slide(r)}))}),300),t.setState({focusState:a,tempClearIndex:[],itemsValue:r,score:l})}))}else this.setState({focusState:a,tempClearIndex:n});else this.setFocus(a,e,this.state.itemsValue[e],n)}},{key:"setFocusSameVal",value:function(e,t,a,n){var l=t-9,r=t+9,s=t-1,i=t+1,c=Math.floor(t/9);l>=0&&this.setFocus(e,l,a,n),r<=81&&this.setFocus(e,r,a,n),s>=9*c&&this.setFocus(e,s,a,n),i<=9*(c+1)-1&&this.setFocus(e,i,a,n)}},{key:"setFocus",value:function(e,t,a,n){e[t]||a!==this.state.itemsValue[t]||(e[t]=!0,n.push(t),this.setState({focusState:e,tempClearIndex:n}),this.setFocusSameVal(e,t,this.state.itemsValue[t],n))}},{key:"dropItems",value:function(e,t){for(var a,n=e;""===t[n]&&n>0;)n-=9;return!(""!==(a=t[n])&&n>=0)||(t[n]="",t[e]=a,this.setState({itemsValue:t}),!(e-9>=0)||this.dropItems(e-9,t))}},{key:"checkMustSlideLeft",value:function(e){for(var t=[],a=0;a<9;a++)for(var n=0;n<9;n++){if(""!==e[9*n+a])break;if(8===n){if(0!==t.length&&a-t[t.length-1]!==1)return t;t.push(a)}}return t}},{key:"slide",value:function(e){var t=this.checkMustSlideLeft(e);if(t.length>0){var a=t[0],n=a;t.length>1&&(n=t[t.length-1]);for(var l=a;l<9;l++){n++;for(var r=0;r<9;r++){var s=9*r+l;if(n<9){var i=9*r+n;e[s]=e[i]}else e[s]=""}}this.setState({itemsValue:e})}}},{key:"initBoard",value:function(){for(var e=[],t=["A","B","C"],a=0;a<81;a++){var n=Math.floor(3*Math.random());e.push(t[n])}this.setState({itemsValue:e,copyItemsValue:e.slice(),focusState:Array(81).fill(!1)})}},{key:"render",value:function(){for(var e=this,t=[],a=0;a<this.state.itemsValue.length;a++)t.push(this.renderItem(a,this.state.itemsValue[a],this.state.focusState[a]));return l.a.createElement("div",null,l.a.createElement("button",{className:"btn",onClick:function(){return e.initBoard()}},"New Game"),"\xa0",l.a.createElement("button",{className:"btn",onClick:function(){e.setState({itemsValue:e.state.copyItemsValue.slice()})}}," Restart"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",null,"Score: ",this.state.score),l.a.createElement("div",{className:"board game-abc"},t))}}]),t}(l.a.Component),b=a(15),C=a(5),N=[{path:"/",component:function(){return l.a.createElement("div",{className:"lb-home"},l.a.createElement("div",{className:"txt-home"},"Home"),l.a.createElement("div",{className:"lb l"}),l.a.createElement("div",{className:"lb r"}))},exact:!0},{path:"/matching",component:v},{path:"/abc",component:E},{path:"/about",component:f}];function k(e){var t=e.label,a=e.to,n=e.activeOnlyWhenExact,r=Object(C.f)({path:a,exact:n});return l.a.createElement("li",null,l.a.createElement(b.b,{to:a,className:r?"active":""},t))}function y(e){return l.a.createElement(C.a,{path:e.path,render:function(t){return l.a.createElement(e.component,Object.assign({},t,{routes:e.routes}))}})}s.a.render(l.a.createElement((function(){return l.a.createElement("div",{className:"container"},l.a.createElement(b.a,null,l.a.createElement("nav",{className:"nav"},l.a.createElement("ul",null,l.a.createElement(k,{to:"/",label:"Home",activeOnlyWhenExact:!0}),l.a.createElement(k,{to:"/matching",label:"Matching Game"}),l.a.createElement(k,{to:"/abc",label:"ABC Game"}))),l.a.createElement(C.c,null,N.map((function(e,t){return l.a.createElement(y,Object.assign({key:t},e))})))))}),null),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.9937075c.chunk.js.map